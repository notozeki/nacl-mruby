<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>nacl-mruby</title>

  <script src="common.js"></script>
  <script>
    function moduleDidLoad() {
      common.hideModule();
    }

    function handleMessage(message) {
      common.logMessage(message.data);
    }

    function sendCode() {
      var code = document.forms.sendCodeForm.code;
      common.naclModule.postMessage(code.value);
      code.value = '';
      return false;
    }
  </script>
</head>

<body data-name="nacl-mruby" data-tools="newlib" data-configs="Debug" data-path="{tc}/{config}" data-attrs="ruby-src=test.rb">
  <h1>Load File</h1>

  <h2>Send Code</h2>
  <form name="sendCodeForm" action="" method="GET" onsubmit="return sendCode()">
    <input type="text" name="code" size="40" value="A.new.greet">
    <input type="submit" value="send">
  </form>

  <h2>Output</h2>
  <div id="log"></div>

  <div id="listener"></div>
</body>
</html>
